# 레코드 캡슐화하기

## 배경
대부분의 프로그래밍 언어는 데이터 레코드(일반 객체)를 표현하는 구조(클래스)를 제공한다.
레코드는 연관된 여러 데이터를 직관적인 방식으로 묶을 수 있어서 각각을 따로 취급할 떄 보다
훨씬 의미있는 단위로 전달할 수 있게 해준다.

하지만 단순 레코드에는 단점이 있다.
특히 계산해서 얻르 수 잇는 값과 그렇지 않은 값을 명확히 구분해 저장해야하는점이 번거롭다.

가련 값의 범위를 표현하려면
{start: 1, end: 5}
{start: 1, length: 5}
{end: 5, length: 5}
등의 방식으로 저장할 수 있다.
어떤 식으로 저장하는 '시작'과 '끝'고ㅓㅏ '길이'를 ㅏㅇㄹ 수 있어야 한다.

바로 이 때문에 나는 가변 데이터를 저장하는 요도로는 레코드보다 객체(클래스)를 선호하는 편이다.

객체(클래스)를 사용하면 어떻게 저장했는지를 숨긴 채 세가지 값을 각각의 메소드로 제공할 수 있다.
사용자는 무엇이 저장된 값이고 무엇이 계산된 값인지 알 필요가 없다.
캡슐화 하면 이름을 바로 꿀때고 좋다.
필드 일므을 바꿔도 기존 이름과 새이름 보두를 각각의 메소드로 제공할 수 ㅜ있어서 사용자가 모두가 새로운 메소드로 옮겨갈 때ㅐ까지 점짅적으로 수정할 수 있다.

나는 '가변'데이터일 ㅒㄸ 객체를 서호한다고 했다.
값이 불변이면 단순히 '시작'과 '끝'고ㅓㅏ '길이'를 모두 구해서 레코드에 저장한다.
이름을 바꿀 떄는 그저 ㅣㄹ드를 복제한다.
그러면 앞서 객체룰 활용해 수정 전후의 두 메서드를 동시에 제공하한 방식과 비슷하게 점직저으로 수정할 수 있다.

레코드 구조는 두 가지로 구분할 수 잇다.
하나는 필드 이름을 노출하는 현태고, 다른 하느ㅏ는 (필드를 숨겨서)내가 원하는 이름을 쓸 수있는 형태다
후자는 주로 라이브러리 에서 해시 맵 해시맵 딕셔너리 연관배열등의 이름으로 게종하낟.
많으 프로그래임엉ㄴ가 ㅛ해시맵을 쉽게 만드는 문법을 제공하다.
해시맵은 다양한 프로그래밍 자억에 유요하지만, 필드를 명확히 알려주지 않는다는 게 단점이 될 수 있다.
범위 를 어떤 방시긍로 ㅠ표현하는징알아내는 유일한 길은 해시맵을 생성하고 사용하는 코드를 직접 확인라흔 방법뿐이다.
프로그램에서 해ㅅ맵을 쓰는 부ㅜㅂㄴ이 적다면 문제되지 ㅇ낳지만 사여ㅛㅇ하는 곳이 많을 수록 불분명함으로 인해 발생하는 문제가 커진다.
이러한 불투명한 레코드를 명시적으로 레코드롤 리팩터링해도 되자만그럴바에는 레코드 대신 클랫를 사용하는 편이 낫다.

코드를 작성하다보면 ㅈㅇ첩되니 리스트나 해시 맵을 받아서 JSON이나 XML 같은 포맷으로 직렬화 할 떄가 ㅁ낳다.
이런 구조 역시 갭슐화 랄 수 잇
는데 그러면 나중에 포맷을 바꾸거나 추적하기 오ㅓ려운 데이터를 수정하기 수월해지낟.

## 절차
일단 생략
1. 레코드를 담은 변수를 캡슐화 한다.
-> 레코드를 캡슐화하는 함수의 이름은 검색하기 쉽게 지어준다.

2. 레코드를 ㅏㄱㅁ싼 단순한 클래스로 해당 변수의 내용을 교체한다. 
이 클래스의 원본 레코드를 반환하는 접근자도 정의하고 변수를 캡수ㅠㄹ화하는 함수들이 리 