# 배경
코드를 언제 독립된 함수로 묶어야 할지?
=> '목적과 구현을 분리'하는 방식

코드를 보고 무슨 일을 하는지 파악하는데 한참이 걸린다면 => 그 부분을 함수로 추출한 뒤 '무슨 일'에 걸맞는 이름을 짓는다.
기대효과: 나중에 코드를 다시 읽을 떄 함수의 목적이 눈에 확 들어오고
본문 코드에 대해서는 더 이상 신경쓸 일이 거의 없다.

단 한줄짜리 함수를 만드는 일도 적지 않았다.
코드의 목적(강조)와 구현(반전) 사이의 차이가 그만큼 컸다.

| 성능최적화 할 떄, 1. 일단 하지마라, 2. (전문가 한정) 아직 하지 마라

짧은 함수의이점: 이름을 잘 지어야만 발휘됨
이런 잘짓기까지는 어느정도 훈련이 필요
요력을 터득한 후에는 별도의 문서 없이 ㅗ드 자체많으로 내용을 충분히 설명 가능

## 절차
1. 함수를 새로 만들고 목적을 잘 드러내는 이름을 붙인다.(어떻게 가 아닌, 무엇을 하는지가 드러나야한다.)
-> 대상 코드가 함수 호출문 하나처럼 매운 간다하더라도 함수로 뽑아서 목적이 더 잘 드러나는 이름을 붙일 수 있다면 추출한다.
ㅇ이름이 떠오르지 않드나 => 추출하면 안된다는 신호

추출하는 과정에서 좋은 이름이 떠올 수 도 있다.
추출해보고 효과가 적다면 다시 인라인해도 된다.
그 ㄷ깨달음은 시간낭비가 아니다.

2. 추출할 코드를 원본 함수에서 복사하여 새 함수에 붙여넣는다.

3. 추출한 코드 중 원본 함수의 지역변수를 참조하거나 추출한 함수의 유효범위를 벗어나는 변수는 없는지 검사한다. 있다면 매개변수로 전달한다.

* 원본 함수의 중첨함수로 추출할 떄는 이런 문제가 생기지 ㅇ낳는다.
* 일반적으로 함수에는 지역 변수와 매개변수가 잇기 마련이다. 가장 일반적인 처리 방법은 이런 변수를 모두 인수로 정달하는것
사용은 하지만 값이 바뀌지 않는 변수 => 걍 매개변수로!
* 추출한 코드안에서 값이 바뀌는 변수 중 값으로 전달되는것들은 주의해서 처리
이런 변수가 하나뿐이라면 추출한 코드를 질의함수로 취급해서 결과를 해당 변수에 대입한다.
* 떄로 추출한 코드에서 값을 수정하는 지역변수가 너무 많을 수 있다.
이럴 때는 함수 추출을 멏구소, 변수 꼬개기나 임시변수를 질의 함수로 바꾸기 와 같은 다른 리팩터링을 적ㅇ숑해서 변수를 사용하는 코드를 단순하게 바꿔본다. 그 다음 함수 추출을 다시 시도한다.

4. 변수를 다 처리했다면 컴파일한다.
* 컴파일되는 언어로 개발 중이라면 변수를 모두 처리하고 나서 한번 콤파일 하자.
제대로 처리하지 못한 변수를 찾는데 도움이 된다.

5. 원본 함수에서 추출한 코드 부분을 새로 만든 함수를 호출하는 문장으로 바꾼다.(즉 추출한 함수로 일을 위임한다.)
6. 테스트한다.
7. 다른 코드에 방금 추출한 것과 똑같거나 비슷한 ㅗ드가 없는지 살핀다. 있다면 방금 추출한 새 함수를 호출하도록 바꿀지 검토한다.(인라인 콛르르 함수호출로 바꾸기)
* 중복 혹은 비슷한 코드를 찾아주는 리팩터링 도구도 있다. 이런 도구가 없다면 검색기능을 이용하여 다른 곳에 중복된 코드가 없는지 확인